/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "/dist";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ \"./src/index.scss\");\n/* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);\n //import {Howl, Howler} from 'howler';\n//import TweenMax from 'gsap';\n// import noUiSlider from 'nouislider';\n// import 'nouislider/distribute/nouislider.css';\n//application object \n\nvar App = function App() {\n  this.container = document.querySelector('#app');\n  this.scene = document.querySelector('.scene');\n  this.mixer = document.querySelector(\"#mixer\");\n  this.openMixerBtn = document.querySelector('#openMixer');\n  this.closeMixerBtn = document.querySelector('#closeMixer');\n  this.randomBtn = document.createElement('button'); //run callback after all sound files have loaded\n\n  this.onLoad = function (scene, callback) {\n    Object.keys(scene).forEach(function (key, i) {\n      var value = scene[key];\n      callback(); // if (scene.hasOwnProperty(key) && value.id != undefined && value.sound != undefined) {\n      //     value.sound.on('load', function(){\n      //         if(++i == Object.keys(scene).length) {\n      //             callback();\n      //         }\n      //     });\n      // }\n    });\n  };\n\n  this.eventListeners = function () {\n    //visual effects\n    lines.background.image.style.opacity = 1;\n    lines.the_self_the_trees.range.addEventListener('input', function () {\n      lines.the_self_the_trees.image.style.opacity = this.value / 100;\n    });\n    lines.the_sky.range.addEventListener('input', function () {\n      lines.the_sky.image.style.opacity = this.value / 100;\n    });\n    var noiseWrapper = document.createElement('div');\n    noiseWrapper.classList = 'noise-wrapper';\n    var noiseDiv = document.createElement('div');\n    noiseDiv.classList = 'noise';\n    noiseWrapper.appendChild(noiseDiv);\n    lines.electricity.image.appendChild(noiseWrapper);\n    lines.electricity.range.addEventListener('input', function () {\n      lines.electricity.image.style.opacity = this.value / 100;\n    });\n    var pulseWrapper = document.createElement('div');\n    pulseWrapper.classList = 'circle-wrapper circle';\n    var pulseDiv = document.createElement('div');\n    pulseDiv.classList = 'circle pulse';\n    pulseWrapper.appendChild(pulseDiv);\n    lines.heartbeat.image.appendChild(pulseWrapper); // const pulse = TweenMax.from('.circle', 1.4, {\n    //     scale: 1,\n    //     transformOrigin: \"center bottom\",\n    //     ease: Power1.easeInOut,\n    //     onComplete: function() {\n    //         TweenMax.to('.pulse', 1, {\n    //             scale: 2,\n    //             transformOrigin: \"center bottom\",\n    //             opacity: 0,\n    //             repeat: -1,\n    //             delay: 0\n    //         });\n    //     }\n    // });\n\n    lines.heartbeat.range.addEventListener('input', function () {\n      pulseWrapper.style.opacity = this.value / 100;\n    });\n    var flashImage = document.createElement('div');\n    flashImage.classList = 'flash-image';\n    lines.turn_on_the_lights.image.appendChild(flashImage);\n    setInterval(function () {\n      flashImage.classList.add('is-flashed');\n      setTimeout(function () {\n        flashImage.classList.remove('is-flashed');\n      }, 150);\n    }, 1200);\n    lines.turn_on_the_lights.range.addEventListener('input', function () {\n      lines.turn_on_the_lights.image.style.opacity = this.value / 100;\n    }); //end visual effects\n    //randomise all ranges and slide range to new value\n\n    app.randomBtn.onclick = function () {\n      Object.keys(lines).forEach(function (key, i) {\n        var value = lines[key];\n\n        if (lines.hasOwnProperty(key) && value.id != undefined && value.sound != undefined) {\n          //get current and set value and find the difference rounding up\n          var currVal = Math.round(document.querySelector(\"#\".concat(value.id, \"Range\")).value * 10) / 10,\n              setVal = Math.floor(Math.random() * 100) + 0,\n              getDiff = function getDiff(a, b) {\n            return Math.abs(a - b);\n          },\n              diff = getDiff(Math.round(currVal * 10) / 10, Math.round(setVal * 10) / 10),\n              rangeSpeed = 25;\n\n          var updateProps = function updateProps(linkVal) {\n            value.sound.volume(linkVal);\n\n            if (value.id == 'heartbeat') {\n              pulseWrapper.style.opacity = linkVal / 100;\n            } else {\n              value.image.style.opacity = linkVal / 100;\n            }\n          }; //increment or decrement every x seconds to set value\n\n\n          if (setVal > currVal) {\n            var increment = setInterval(function () {\n              document.querySelector(\"#\".concat(value.id, \"Range\")).value++;\n              var linkVal = document.querySelector(\"#\".concat(value.id, \"Range\")).value;\n              updateProps(linkVal);\n\n              if (document.querySelector(\"#\".concat(value.id, \"Range\")).value == setVal) {\n                clearInterval(increment);\n              }\n            }, rangeSpeed);\n          } else if (setVal < currVal) {\n            var decrement = setInterval(function () {\n              document.querySelector(\"#\".concat(value.id, \"Range\")).value--;\n              var linkVal = document.querySelector(\"#\".concat(value.id, \"Range\")).value;\n              updateProps(linkVal);\n\n              if (document.querySelector(\"#\".concat(value.id, \"Range\")).value == setVal) {\n                clearInterval(decrement);\n              }\n            }, rangeSpeed);\n          }\n        }\n      });\n    }; //mixer toggle events\n\n\n    var openMixer = function openMixer() {\n      app.mixer.classList.add('mixer--open');\n      app.openMixerBtn.classList.add('open-mixer--hidden');\n      app.container.classList.add('mixer--open');\n    };\n\n    var closeMixer = function closeMixer() {\n      app.mixer.classList.remove('mixer--open');\n      app.openMixerBtn.classList.remove('open-mixer--hidden');\n      app.container.classList.remove('mixer--open');\n    };\n\n    app.openMixerBtn.onclick = function () {\n      openMixer();\n    };\n\n    app.closeMixerBtn.onclick = function () {\n      closeMixer();\n    };\n\n    app.scene.onclick = function () {\n      closeMixer();\n    };\n\n    var toggleMixer = function toggleMixer(e) {\n      if (e.which == 77) {\n        if (app.mixer.classList.contains('mixer--open')) {\n          closeMixer();\n        } else {\n          openMixer();\n        }\n      }\n    };\n\n    document.addEventListener('keyup', toggleMixer);\n  };\n\n  this.nodes = {\n    randomBtn: function randomBtn() {\n      app.randomBtn = document.createElement('button');\n      app.randomBtn.classList = 'mixer__button';\n      app.randomBtn.id = 'randomRangeAll';\n      app.randomBtn.innerText = 'Dissarange';\n      app.mixer.appendChild(app.randomBtn);\n    }\n  };\n  this.events = {\n    loadApp: function loadApp() {\n      document.querySelector('.scene-loader').innerHTML = 'I see destruction; a path gauged through wooded land to transport electric, static, down metal wires, to an un-framed city. <br> <span style=\"opacity:0.3\">Please turn your volume up</span>';\n      setTimeout(function () {\n        document.querySelector('.scene-loader').classList.add('in-fade');\n      }, 1000);\n      document.querySelector('.navbar-heading').classList.add('in-fade');\n      var vignette = document.createElement(\"div\");\n      vignette.classList = 'vignette';\n      app.scene.appendChild(vignette);\n      app.onLoad(lines, app.events.startApp);\n    },\n    startApp: function startApp() {\n      //sound.play(); //play automatically\n      //console.log(lines)\n      // Object.keys(lines).forEach(function(key, i) {\n      //     const value = lines[key];\n      //     if (lines.hasOwnProperty(key) && value.id != undefined && value.sound != undefined) {\n      //         value.sound.play()\n      //     }\n      // });\n      setTimeout(function () {\n        document.querySelector('.scene-loader').classList.remove('in-fade', 'out-fade');\n        document.querySelector('.navbar-right').classList.add('in-fade');\n        document.querySelector('.loader').style.display = 'none';\n        document.querySelector('.navbar-heading').textContent = 'Lines - Krafta';\n        document.querySelector('.scene').classList.add('in-fade');\n        app.container.classList.add('mixer--open', 'in-fade');\n      }, 4500);\n    }\n  };\n};\n\nvar app = new App(); //path references\n\nvar FileSystem = function FileSystem(scene, fileName) {\n  var sceneSrc = 'https://joeypunkrock.github.io/lines-krafta/src/scenes/' + scene + '/';\n  this.imageLayersSrc = sceneSrc + 'image_layers/' + fileName;\n  this.soundLayersSrc = sceneSrc + 'sound_layers/' + fileName;\n}; //build methods for each layer\n\n\nvar build = {\n  image: function image(scene, imageName) {\n    var fileFormat = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'png';\n    var range = arguments.length > 3 ? arguments[3] : undefined;\n    var slider = arguments.length > 4 ? arguments[4] : undefined;\n    var file = new FileSystem(scene, imageName);\n    var node = document.createElement(\"div\");\n    node.classList = 'image-full';\n    node.id = imageName + 'Image';\n    node.style.backgroundImage = \"url(\\\"\".concat(file.imageLayersSrc, \".\").concat(fileFormat, \"\\\")\");\n\n    if (slider != false) {\n      node.style.opacity = range.value / 100;\n    } else {\n      node.style.opacity = 0;\n    }\n\n    app.scene.appendChild(node);\n    return node;\n  },\n  sound: function sound(scene, soundName, range) {\n    var file = new FileSystem(scene, soundName); // const sound = new Howl({\n    //     src: [file.soundLayersSrc+'.ogg', file.soundLayersSrc+'.mp3'],\n    //     volume: range.value / 100,\n    //     loop: true,\n    // });\n\n    return false;\n  },\n  slider: function slider(layer) {\n    var slider = document.createElement('div');\n    slider.classList = 'slider';\n    slider.innerHTML = \"<div class=\\\"slider__title\\\">\".concat(layer.title, \"</div>\");\n    app.mixer.appendChild(slider);\n    var range = document.createElement('input');\n    range.id = layer.id + 'Range';\n    range.classList = 'slider__range';\n    range.type = 'range';\n    range.min = 0;\n    range.max = 100;\n    range.value = 0;\n    range.step = 1;\n    slider.appendChild(range); // noUiSlider.create(range, {\n    //     start: [0],\n    //     range: {\n    //         'min': [0],\n    //         'max': [100]\n    //     }\n    // });\n\n    range.addEventListener(\"input\", function () {\n      layer.sound.volume(this.value / 100);\n    });\n    return range;\n  } //build a layer with range image and sound\n\n};\n\nvar Layer = function Layer(layer) {\n  this.id = layer.id;\n  this.title = layer.title;\n  if (layer.slider != false) this.range = build.slider(this);\n  this.image = build.image(layer.scene, layer.id, layer.fileFormat, this.range, layer.slider);\n  if (layer.sound != false) this.sound = build.sound(layer.scene, layer.id, this.range);\n}; //scene object - lines\n\n\nvar Lines = function Lines() {\n  var sceneName = 'lines';\n  this.background = new Layer({\n    id: 'sky',\n    fileFormat: 'jpg',\n    slider: false,\n    sound: false,\n    scene: sceneName\n  });\n  this.the_sky = new Layer({\n    id: 'the_sky',\n    title: 'Upper Atmosphere',\n    fileFormat: 'png',\n    scene: sceneName\n  });\n  this.the_self_the_trees = new Layer({\n    id: 'the_self_the_trees',\n    title: 'Subjective Nature',\n    fileFormat: 'png',\n    scene: sceneName\n  });\n  this.electricity = new Layer({\n    id: 'electricity',\n    title: 'Voltage',\n    fileFormat: 'png',\n    scene: sceneName\n  });\n  this.heartbeat = new Layer({\n    id: 'heartbeat',\n    title: 'Terra Pulse',\n    fileFormat: 'png',\n    scene: sceneName\n  });\n  this.turn_on_the_lights = new Layer({\n    id: 'turn_on_the_lights',\n    title: 'Luminate',\n    fileFormat: 'png',\n    scene: sceneName\n  });\n}; //build scene and load the application\n\n\nvar lines = new Lines();\napp.events.loadApp();\n\nwindow.onload = function () {\n  app.nodes.randomBtn();\n  app.eventListeners();\n};\n\ndocument.querySelector('.show-popup').addEventListener('click', function () {\n  document.querySelector('.mask').classList.add('active');\n});\n\nfunction closeModal() {\n  document.querySelector('.mask').classList.remove('active');\n}\n\ndocument.querySelector('.close').addEventListener('click', function () {\n  closeModal();\n});\ndocument.querySelector('.mask').addEventListener('click', function () {\n  closeModal();\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaW5kZXguanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanM/MzcwMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJy4vaW5kZXguc2Nzcyc7IC8vaW1wb3J0IHtIb3dsLCBIb3dsZXJ9IGZyb20gJ2hvd2xlcic7XG4vL2ltcG9ydCBUd2Vlbk1heCBmcm9tICdnc2FwJztcbi8vIGltcG9ydCBub1VpU2xpZGVyIGZyb20gJ25vdWlzbGlkZXInO1xuLy8gaW1wb3J0ICdub3Vpc2xpZGVyL2Rpc3RyaWJ1dGUvbm91aXNsaWRlci5jc3MnO1xuLy9hcHBsaWNhdGlvbiBvYmplY3QgXG5cbnZhciBBcHAgPSBmdW5jdGlvbiBBcHAoKSB7XG4gIHRoaXMuY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2FwcCcpO1xuICB0aGlzLnNjZW5lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNjZW5lJyk7XG4gIHRoaXMubWl4ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI21peGVyXCIpO1xuICB0aGlzLm9wZW5NaXhlckJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNvcGVuTWl4ZXInKTtcbiAgdGhpcy5jbG9zZU1peGVyQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Nsb3NlTWl4ZXInKTtcbiAgdGhpcy5yYW5kb21CdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTsgLy9ydW4gY2FsbGJhY2sgYWZ0ZXIgYWxsIHNvdW5kIGZpbGVzIGhhdmUgbG9hZGVkXG5cbiAgdGhpcy5vbkxvYWQgPSBmdW5jdGlvbiAoc2NlbmUsIGNhbGxiYWNrKSB7XG4gICAgT2JqZWN0LmtleXMoc2NlbmUpLmZvckVhY2goZnVuY3Rpb24gKGtleSwgaSkge1xuICAgICAgdmFyIHZhbHVlID0gc2NlbmVba2V5XTtcbiAgICAgIGNhbGxiYWNrKCk7IC8vIGlmIChzY2VuZS5oYXNPd25Qcm9wZXJ0eShrZXkpICYmIHZhbHVlLmlkICE9IHVuZGVmaW5lZCAmJiB2YWx1ZS5zb3VuZCAhPSB1bmRlZmluZWQpIHtcbiAgICAgIC8vICAgICB2YWx1ZS5zb3VuZC5vbignbG9hZCcsIGZ1bmN0aW9uKCl7XG4gICAgICAvLyAgICAgICAgIGlmKCsraSA9PSBPYmplY3Qua2V5cyhzY2VuZSkubGVuZ3RoKSB7XG4gICAgICAvLyAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgLy8gICAgICAgICB9XG4gICAgICAvLyAgICAgfSk7XG4gICAgICAvLyB9XG4gICAgfSk7XG4gIH07XG5cbiAgdGhpcy5ldmVudExpc3RlbmVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAvL3Zpc3VhbCBlZmZlY3RzXG4gICAgbGluZXMuYmFja2dyb3VuZC5pbWFnZS5zdHlsZS5vcGFjaXR5ID0gMTtcbiAgICBsaW5lcy50aGVfc2VsZl90aGVfdHJlZXMucmFuZ2UuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICBsaW5lcy50aGVfc2VsZl90aGVfdHJlZXMuaW1hZ2Uuc3R5bGUub3BhY2l0eSA9IHRoaXMudmFsdWUgLyAxMDA7XG4gICAgfSk7XG4gICAgbGluZXMudGhlX3NreS5yYW5nZS5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGxpbmVzLnRoZV9za3kuaW1hZ2Uuc3R5bGUub3BhY2l0eSA9IHRoaXMudmFsdWUgLyAxMDA7XG4gICAgfSk7XG4gICAgdmFyIG5vaXNlV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIG5vaXNlV3JhcHBlci5jbGFzc0xpc3QgPSAnbm9pc2Utd3JhcHBlcic7XG4gICAgdmFyIG5vaXNlRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgbm9pc2VEaXYuY2xhc3NMaXN0ID0gJ25vaXNlJztcbiAgICBub2lzZVdyYXBwZXIuYXBwZW5kQ2hpbGQobm9pc2VEaXYpO1xuICAgIGxpbmVzLmVsZWN0cmljaXR5LmltYWdlLmFwcGVuZENoaWxkKG5vaXNlV3JhcHBlcik7XG4gICAgbGluZXMuZWxlY3RyaWNpdHkucmFuZ2UuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICBsaW5lcy5lbGVjdHJpY2l0eS5pbWFnZS5zdHlsZS5vcGFjaXR5ID0gdGhpcy52YWx1ZSAvIDEwMDtcbiAgICB9KTtcbiAgICB2YXIgcHVsc2VXcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgcHVsc2VXcmFwcGVyLmNsYXNzTGlzdCA9ICdjaXJjbGUtd3JhcHBlciBjaXJjbGUnO1xuICAgIHZhciBwdWxzZURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHB1bHNlRGl2LmNsYXNzTGlzdCA9ICdjaXJjbGUgcHVsc2UnO1xuICAgIHB1bHNlV3JhcHBlci5hcHBlbmRDaGlsZChwdWxzZURpdik7XG4gICAgbGluZXMuaGVhcnRiZWF0LmltYWdlLmFwcGVuZENoaWxkKHB1bHNlV3JhcHBlcik7IC8vIGNvbnN0IHB1bHNlID0gVHdlZW5NYXguZnJvbSgnLmNpcmNsZScsIDEuNCwge1xuICAgIC8vICAgICBzY2FsZTogMSxcbiAgICAvLyAgICAgdHJhbnNmb3JtT3JpZ2luOiBcImNlbnRlciBib3R0b21cIixcbiAgICAvLyAgICAgZWFzZTogUG93ZXIxLmVhc2VJbk91dCxcbiAgICAvLyAgICAgb25Db21wbGV0ZTogZnVuY3Rpb24oKSB7XG4gICAgLy8gICAgICAgICBUd2Vlbk1heC50bygnLnB1bHNlJywgMSwge1xuICAgIC8vICAgICAgICAgICAgIHNjYWxlOiAyLFxuICAgIC8vICAgICAgICAgICAgIHRyYW5zZm9ybU9yaWdpbjogXCJjZW50ZXIgYm90dG9tXCIsXG4gICAgLy8gICAgICAgICAgICAgb3BhY2l0eTogMCxcbiAgICAvLyAgICAgICAgICAgICByZXBlYXQ6IC0xLFxuICAgIC8vICAgICAgICAgICAgIGRlbGF5OiAwXG4gICAgLy8gICAgICAgICB9KTtcbiAgICAvLyAgICAgfVxuICAgIC8vIH0pO1xuXG4gICAgbGluZXMuaGVhcnRiZWF0LnJhbmdlLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgZnVuY3Rpb24gKCkge1xuICAgICAgcHVsc2VXcmFwcGVyLnN0eWxlLm9wYWNpdHkgPSB0aGlzLnZhbHVlIC8gMTAwO1xuICAgIH0pO1xuICAgIHZhciBmbGFzaEltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZmxhc2hJbWFnZS5jbGFzc0xpc3QgPSAnZmxhc2gtaW1hZ2UnO1xuICAgIGxpbmVzLnR1cm5fb25fdGhlX2xpZ2h0cy5pbWFnZS5hcHBlbmRDaGlsZChmbGFzaEltYWdlKTtcbiAgICBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICBmbGFzaEltYWdlLmNsYXNzTGlzdC5hZGQoJ2lzLWZsYXNoZWQnKTtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBmbGFzaEltYWdlLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWZsYXNoZWQnKTtcbiAgICAgIH0sIDE1MCk7XG4gICAgfSwgMTIwMCk7XG4gICAgbGluZXMudHVybl9vbl90aGVfbGlnaHRzLnJhbmdlLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgZnVuY3Rpb24gKCkge1xuICAgICAgbGluZXMudHVybl9vbl90aGVfbGlnaHRzLmltYWdlLnN0eWxlLm9wYWNpdHkgPSB0aGlzLnZhbHVlIC8gMTAwO1xuICAgIH0pOyAvL2VuZCB2aXN1YWwgZWZmZWN0c1xuICAgIC8vcmFuZG9taXNlIGFsbCByYW5nZXMgYW5kIHNsaWRlIHJhbmdlIHRvIG5ldyB2YWx1ZVxuXG4gICAgYXBwLnJhbmRvbUJ0bi5vbmNsaWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgT2JqZWN0LmtleXMobGluZXMpLmZvckVhY2goZnVuY3Rpb24gKGtleSwgaSkge1xuICAgICAgICB2YXIgdmFsdWUgPSBsaW5lc1trZXldO1xuXG4gICAgICAgIGlmIChsaW5lcy5oYXNPd25Qcm9wZXJ0eShrZXkpICYmIHZhbHVlLmlkICE9IHVuZGVmaW5lZCAmJiB2YWx1ZS5zb3VuZCAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAvL2dldCBjdXJyZW50IGFuZCBzZXQgdmFsdWUgYW5kIGZpbmQgdGhlIGRpZmZlcmVuY2Ugcm91bmRpbmcgdXBcbiAgICAgICAgICB2YXIgY3VyclZhbCA9IE1hdGgucm91bmQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNcIi5jb25jYXQodmFsdWUuaWQsIFwiUmFuZ2VcIikpLnZhbHVlICogMTApIC8gMTAsXG4gICAgICAgICAgICAgIHNldFZhbCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMCkgKyAwLFxuICAgICAgICAgICAgICBnZXREaWZmID0gZnVuY3Rpb24gZ2V0RGlmZihhLCBiKSB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5hYnMoYSAtIGIpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGRpZmYgPSBnZXREaWZmKE1hdGgucm91bmQoY3VyclZhbCAqIDEwKSAvIDEwLCBNYXRoLnJvdW5kKHNldFZhbCAqIDEwKSAvIDEwKSxcbiAgICAgICAgICAgICAgcmFuZ2VTcGVlZCA9IDI1O1xuXG4gICAgICAgICAgdmFyIHVwZGF0ZVByb3BzID0gZnVuY3Rpb24gdXBkYXRlUHJvcHMobGlua1ZhbCkge1xuICAgICAgICAgICAgdmFsdWUuc291bmQudm9sdW1lKGxpbmtWYWwpO1xuXG4gICAgICAgICAgICBpZiAodmFsdWUuaWQgPT0gJ2hlYXJ0YmVhdCcpIHtcbiAgICAgICAgICAgICAgcHVsc2VXcmFwcGVyLnN0eWxlLm9wYWNpdHkgPSBsaW5rVmFsIC8gMTAwO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdmFsdWUuaW1hZ2Uuc3R5bGUub3BhY2l0eSA9IGxpbmtWYWwgLyAxMDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTsgLy9pbmNyZW1lbnQgb3IgZGVjcmVtZW50IGV2ZXJ5IHggc2Vjb25kcyB0byBzZXQgdmFsdWVcblxuXG4gICAgICAgICAgaWYgKHNldFZhbCA+IGN1cnJWYWwpIHtcbiAgICAgICAgICAgIHZhciBpbmNyZW1lbnQgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjXCIuY29uY2F0KHZhbHVlLmlkLCBcIlJhbmdlXCIpKS52YWx1ZSsrO1xuICAgICAgICAgICAgICB2YXIgbGlua1ZhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjXCIuY29uY2F0KHZhbHVlLmlkLCBcIlJhbmdlXCIpKS52YWx1ZTtcbiAgICAgICAgICAgICAgdXBkYXRlUHJvcHMobGlua1ZhbCk7XG5cbiAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjXCIuY29uY2F0KHZhbHVlLmlkLCBcIlJhbmdlXCIpKS52YWx1ZSA9PSBzZXRWYWwpIHtcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGluY3JlbWVudCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHJhbmdlU3BlZWQpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoc2V0VmFsIDwgY3VyclZhbCkge1xuICAgICAgICAgICAgdmFyIGRlY3JlbWVudCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNcIi5jb25jYXQodmFsdWUuaWQsIFwiUmFuZ2VcIikpLnZhbHVlLS07XG4gICAgICAgICAgICAgIHZhciBsaW5rVmFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNcIi5jb25jYXQodmFsdWUuaWQsIFwiUmFuZ2VcIikpLnZhbHVlO1xuICAgICAgICAgICAgICB1cGRhdGVQcm9wcyhsaW5rVmFsKTtcblxuICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNcIi5jb25jYXQodmFsdWUuaWQsIFwiUmFuZ2VcIikpLnZhbHVlID09IHNldFZhbCkge1xuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoZGVjcmVtZW50KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgcmFuZ2VTcGVlZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9OyAvL21peGVyIHRvZ2dsZSBldmVudHNcblxuXG4gICAgdmFyIG9wZW5NaXhlciA9IGZ1bmN0aW9uIG9wZW5NaXhlcigpIHtcbiAgICAgIGFwcC5taXhlci5jbGFzc0xpc3QuYWRkKCdtaXhlci0tb3BlbicpO1xuICAgICAgYXBwLm9wZW5NaXhlckJ0bi5jbGFzc0xpc3QuYWRkKCdvcGVuLW1peGVyLS1oaWRkZW4nKTtcbiAgICAgIGFwcC5jb250YWluZXIuY2xhc3NMaXN0LmFkZCgnbWl4ZXItLW9wZW4nKTtcbiAgICB9O1xuXG4gICAgdmFyIGNsb3NlTWl4ZXIgPSBmdW5jdGlvbiBjbG9zZU1peGVyKCkge1xuICAgICAgYXBwLm1peGVyLmNsYXNzTGlzdC5yZW1vdmUoJ21peGVyLS1vcGVuJyk7XG4gICAgICBhcHAub3Blbk1peGVyQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ29wZW4tbWl4ZXItLWhpZGRlbicpO1xuICAgICAgYXBwLmNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdtaXhlci0tb3BlbicpO1xuICAgIH07XG5cbiAgICBhcHAub3Blbk1peGVyQnRuLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBvcGVuTWl4ZXIoKTtcbiAgICB9O1xuXG4gICAgYXBwLmNsb3NlTWl4ZXJCdG4ub25jbGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGNsb3NlTWl4ZXIoKTtcbiAgICB9O1xuXG4gICAgYXBwLnNjZW5lLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBjbG9zZU1peGVyKCk7XG4gICAgfTtcblxuICAgIHZhciB0b2dnbGVNaXhlciA9IGZ1bmN0aW9uIHRvZ2dsZU1peGVyKGUpIHtcbiAgICAgIGlmIChlLndoaWNoID09IDc3KSB7XG4gICAgICAgIGlmIChhcHAubWl4ZXIuY2xhc3NMaXN0LmNvbnRhaW5zKCdtaXhlci0tb3BlbicpKSB7XG4gICAgICAgICAgY2xvc2VNaXhlcigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9wZW5NaXhlcigpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdG9nZ2xlTWl4ZXIpO1xuICB9O1xuXG4gIHRoaXMubm9kZXMgPSB7XG4gICAgcmFuZG9tQnRuOiBmdW5jdGlvbiByYW5kb21CdG4oKSB7XG4gICAgICBhcHAucmFuZG9tQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICBhcHAucmFuZG9tQnRuLmNsYXNzTGlzdCA9ICdtaXhlcl9fYnV0dG9uJztcbiAgICAgIGFwcC5yYW5kb21CdG4uaWQgPSAncmFuZG9tUmFuZ2VBbGwnO1xuICAgICAgYXBwLnJhbmRvbUJ0bi5pbm5lclRleHQgPSAnRGlzc2FyYW5nZSc7XG4gICAgICBhcHAubWl4ZXIuYXBwZW5kQ2hpbGQoYXBwLnJhbmRvbUJ0bik7XG4gICAgfVxuICB9O1xuICB0aGlzLmV2ZW50cyA9IHtcbiAgICBsb2FkQXBwOiBmdW5jdGlvbiBsb2FkQXBwKCkge1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNjZW5lLWxvYWRlcicpLmlubmVySFRNTCA9ICdJIHNlZSBkZXN0cnVjdGlvbjsgYSBwYXRoIGdhdWdlZCB0aHJvdWdoIHdvb2RlZCBsYW5kIHRvIHRyYW5zcG9ydCBlbGVjdHJpYywgc3RhdGljLCBkb3duIG1ldGFsIHdpcmVzLCB0byBhbiB1bi1mcmFtZWQgY2l0eS4gPGJyPiA8c3BhbiBzdHlsZT1cIm9wYWNpdHk6MC4zXCI+UGxlYXNlIHR1cm4geW91ciB2b2x1bWUgdXA8L3NwYW4+JztcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2NlbmUtbG9hZGVyJykuY2xhc3NMaXN0LmFkZCgnaW4tZmFkZScpO1xuICAgICAgfSwgMTAwMCk7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2YmFyLWhlYWRpbmcnKS5jbGFzc0xpc3QuYWRkKCdpbi1mYWRlJyk7XG4gICAgICB2YXIgdmlnbmV0dGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgdmlnbmV0dGUuY2xhc3NMaXN0ID0gJ3ZpZ25ldHRlJztcbiAgICAgIGFwcC5zY2VuZS5hcHBlbmRDaGlsZCh2aWduZXR0ZSk7XG4gICAgICBhcHAub25Mb2FkKGxpbmVzLCBhcHAuZXZlbnRzLnN0YXJ0QXBwKTtcbiAgICB9LFxuICAgIHN0YXJ0QXBwOiBmdW5jdGlvbiBzdGFydEFwcCgpIHtcbiAgICAgIC8vc291bmQucGxheSgpOyAvL3BsYXkgYXV0b21hdGljYWxseVxuICAgICAgLy9jb25zb2xlLmxvZyhsaW5lcylcbiAgICAgIC8vIE9iamVjdC5rZXlzKGxpbmVzKS5mb3JFYWNoKGZ1bmN0aW9uKGtleSwgaSkge1xuICAgICAgLy8gICAgIGNvbnN0IHZhbHVlID0gbGluZXNba2V5XTtcbiAgICAgIC8vICAgICBpZiAobGluZXMuaGFzT3duUHJvcGVydHkoa2V5KSAmJiB2YWx1ZS5pZCAhPSB1bmRlZmluZWQgJiYgdmFsdWUuc291bmQgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyAgICAgICAgIHZhbHVlLnNvdW5kLnBsYXkoKVxuICAgICAgLy8gICAgIH1cbiAgICAgIC8vIH0pO1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zY2VuZS1sb2FkZXInKS5jbGFzc0xpc3QucmVtb3ZlKCdpbi1mYWRlJywgJ291dC1mYWRlJyk7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZiYXItcmlnaHQnKS5jbGFzc0xpc3QuYWRkKCdpbi1mYWRlJyk7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sb2FkZXInKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2YmFyLWhlYWRpbmcnKS50ZXh0Q29udGVudCA9ICdMaW5lcyAtIEtyYWZ0YSc7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zY2VuZScpLmNsYXNzTGlzdC5hZGQoJ2luLWZhZGUnKTtcbiAgICAgICAgYXBwLmNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdtaXhlci0tb3BlbicsICdpbi1mYWRlJyk7XG4gICAgICB9LCA0NTAwKTtcbiAgICB9XG4gIH07XG59O1xuXG52YXIgYXBwID0gbmV3IEFwcCgpOyAvL3BhdGggcmVmZXJlbmNlc1xuXG52YXIgRmlsZVN5c3RlbSA9IGZ1bmN0aW9uIEZpbGVTeXN0ZW0oc2NlbmUsIGZpbGVOYW1lKSB7XG4gIHZhciBzY2VuZVNyYyA9ICdodHRwczovL2pvZXlwdW5rcm9jay5naXRodWIuaW8vbGluZXMta3JhZnRhL3NyYy9zY2VuZXMvJyArIHNjZW5lICsgJy8nO1xuICB0aGlzLmltYWdlTGF5ZXJzU3JjID0gc2NlbmVTcmMgKyAnaW1hZ2VfbGF5ZXJzLycgKyBmaWxlTmFtZTtcbiAgdGhpcy5zb3VuZExheWVyc1NyYyA9IHNjZW5lU3JjICsgJ3NvdW5kX2xheWVycy8nICsgZmlsZU5hbWU7XG59OyAvL2J1aWxkIG1ldGhvZHMgZm9yIGVhY2ggbGF5ZXJcblxuXG52YXIgYnVpbGQgPSB7XG4gIGltYWdlOiBmdW5jdGlvbiBpbWFnZShzY2VuZSwgaW1hZ2VOYW1lKSB7XG4gICAgdmFyIGZpbGVGb3JtYXQgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6ICdwbmcnO1xuICAgIHZhciByYW5nZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAzID8gYXJndW1lbnRzWzNdIDogdW5kZWZpbmVkO1xuICAgIHZhciBzbGlkZXIgPSBhcmd1bWVudHMubGVuZ3RoID4gNCA/IGFyZ3VtZW50c1s0XSA6IHVuZGVmaW5lZDtcbiAgICB2YXIgZmlsZSA9IG5ldyBGaWxlU3lzdGVtKHNjZW5lLCBpbWFnZU5hbWUpO1xuICAgIHZhciBub2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBub2RlLmNsYXNzTGlzdCA9ICdpbWFnZS1mdWxsJztcbiAgICBub2RlLmlkID0gaW1hZ2VOYW1lICsgJ0ltYWdlJztcbiAgICBub2RlLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IFwidXJsKFxcXCJcIi5jb25jYXQoZmlsZS5pbWFnZUxheWVyc1NyYywgXCIuXCIpLmNvbmNhdChmaWxlRm9ybWF0LCBcIlxcXCIpXCIpO1xuXG4gICAgaWYgKHNsaWRlciAhPSBmYWxzZSkge1xuICAgICAgbm9kZS5zdHlsZS5vcGFjaXR5ID0gcmFuZ2UudmFsdWUgLyAxMDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5vZGUuc3R5bGUub3BhY2l0eSA9IDA7XG4gICAgfVxuXG4gICAgYXBwLnNjZW5lLmFwcGVuZENoaWxkKG5vZGUpO1xuICAgIHJldHVybiBub2RlO1xuICB9LFxuICBzb3VuZDogZnVuY3Rpb24gc291bmQoc2NlbmUsIHNvdW5kTmFtZSwgcmFuZ2UpIHtcbiAgICB2YXIgZmlsZSA9IG5ldyBGaWxlU3lzdGVtKHNjZW5lLCBzb3VuZE5hbWUpOyAvLyBjb25zdCBzb3VuZCA9IG5ldyBIb3dsKHtcbiAgICAvLyAgICAgc3JjOiBbZmlsZS5zb3VuZExheWVyc1NyYysnLm9nZycsIGZpbGUuc291bmRMYXllcnNTcmMrJy5tcDMnXSxcbiAgICAvLyAgICAgdm9sdW1lOiByYW5nZS52YWx1ZSAvIDEwMCxcbiAgICAvLyAgICAgbG9vcDogdHJ1ZSxcbiAgICAvLyB9KTtcblxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgc2xpZGVyOiBmdW5jdGlvbiBzbGlkZXIobGF5ZXIpIHtcbiAgICB2YXIgc2xpZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgc2xpZGVyLmNsYXNzTGlzdCA9ICdzbGlkZXInO1xuICAgIHNsaWRlci5pbm5lckhUTUwgPSBcIjxkaXYgY2xhc3M9XFxcInNsaWRlcl9fdGl0bGVcXFwiPlwiLmNvbmNhdChsYXllci50aXRsZSwgXCI8L2Rpdj5cIik7XG4gICAgYXBwLm1peGVyLmFwcGVuZENoaWxkKHNsaWRlcik7XG4gICAgdmFyIHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICByYW5nZS5pZCA9IGxheWVyLmlkICsgJ1JhbmdlJztcbiAgICByYW5nZS5jbGFzc0xpc3QgPSAnc2xpZGVyX19yYW5nZSc7XG4gICAgcmFuZ2UudHlwZSA9ICdyYW5nZSc7XG4gICAgcmFuZ2UubWluID0gMDtcbiAgICByYW5nZS5tYXggPSAxMDA7XG4gICAgcmFuZ2UudmFsdWUgPSAwO1xuICAgIHJhbmdlLnN0ZXAgPSAxO1xuICAgIHNsaWRlci5hcHBlbmRDaGlsZChyYW5nZSk7IC8vIG5vVWlTbGlkZXIuY3JlYXRlKHJhbmdlLCB7XG4gICAgLy8gICAgIHN0YXJ0OiBbMF0sXG4gICAgLy8gICAgIHJhbmdlOiB7XG4gICAgLy8gICAgICAgICAnbWluJzogWzBdLFxuICAgIC8vICAgICAgICAgJ21heCc6IFsxMDBdXG4gICAgLy8gICAgIH1cbiAgICAvLyB9KTtcblxuICAgIHJhbmdlLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBsYXllci5zb3VuZC52b2x1bWUodGhpcy52YWx1ZSAvIDEwMCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJhbmdlO1xuICB9IC8vYnVpbGQgYSBsYXllciB3aXRoIHJhbmdlIGltYWdlIGFuZCBzb3VuZFxuXG59O1xuXG52YXIgTGF5ZXIgPSBmdW5jdGlvbiBMYXllcihsYXllcikge1xuICB0aGlzLmlkID0gbGF5ZXIuaWQ7XG4gIHRoaXMudGl0bGUgPSBsYXllci50aXRsZTtcbiAgaWYgKGxheWVyLnNsaWRlciAhPSBmYWxzZSkgdGhpcy5yYW5nZSA9IGJ1aWxkLnNsaWRlcih0aGlzKTtcbiAgdGhpcy5pbWFnZSA9IGJ1aWxkLmltYWdlKGxheWVyLnNjZW5lLCBsYXllci5pZCwgbGF5ZXIuZmlsZUZvcm1hdCwgdGhpcy5yYW5nZSwgbGF5ZXIuc2xpZGVyKTtcbiAgaWYgKGxheWVyLnNvdW5kICE9IGZhbHNlKSB0aGlzLnNvdW5kID0gYnVpbGQuc291bmQobGF5ZXIuc2NlbmUsIGxheWVyLmlkLCB0aGlzLnJhbmdlKTtcbn07IC8vc2NlbmUgb2JqZWN0IC0gbGluZXNcblxuXG52YXIgTGluZXMgPSBmdW5jdGlvbiBMaW5lcygpIHtcbiAgdmFyIHNjZW5lTmFtZSA9ICdsaW5lcyc7XG4gIHRoaXMuYmFja2dyb3VuZCA9IG5ldyBMYXllcih7XG4gICAgaWQ6ICdza3knLFxuICAgIGZpbGVGb3JtYXQ6ICdqcGcnLFxuICAgIHNsaWRlcjogZmFsc2UsXG4gICAgc291bmQ6IGZhbHNlLFxuICAgIHNjZW5lOiBzY2VuZU5hbWVcbiAgfSk7XG4gIHRoaXMudGhlX3NreSA9IG5ldyBMYXllcih7XG4gICAgaWQ6ICd0aGVfc2t5JyxcbiAgICB0aXRsZTogJ1VwcGVyIEF0bW9zcGhlcmUnLFxuICAgIGZpbGVGb3JtYXQ6ICdwbmcnLFxuICAgIHNjZW5lOiBzY2VuZU5hbWVcbiAgfSk7XG4gIHRoaXMudGhlX3NlbGZfdGhlX3RyZWVzID0gbmV3IExheWVyKHtcbiAgICBpZDogJ3RoZV9zZWxmX3RoZV90cmVlcycsXG4gICAgdGl0bGU6ICdTdWJqZWN0aXZlIE5hdHVyZScsXG4gICAgZmlsZUZvcm1hdDogJ3BuZycsXG4gICAgc2NlbmU6IHNjZW5lTmFtZVxuICB9KTtcbiAgdGhpcy5lbGVjdHJpY2l0eSA9IG5ldyBMYXllcih7XG4gICAgaWQ6ICdlbGVjdHJpY2l0eScsXG4gICAgdGl0bGU6ICdWb2x0YWdlJyxcbiAgICBmaWxlRm9ybWF0OiAncG5nJyxcbiAgICBzY2VuZTogc2NlbmVOYW1lXG4gIH0pO1xuICB0aGlzLmhlYXJ0YmVhdCA9IG5ldyBMYXllcih7XG4gICAgaWQ6ICdoZWFydGJlYXQnLFxuICAgIHRpdGxlOiAnVGVycmEgUHVsc2UnLFxuICAgIGZpbGVGb3JtYXQ6ICdwbmcnLFxuICAgIHNjZW5lOiBzY2VuZU5hbWVcbiAgfSk7XG4gIHRoaXMudHVybl9vbl90aGVfbGlnaHRzID0gbmV3IExheWVyKHtcbiAgICBpZDogJ3R1cm5fb25fdGhlX2xpZ2h0cycsXG4gICAgdGl0bGU6ICdMdW1pbmF0ZScsXG4gICAgZmlsZUZvcm1hdDogJ3BuZycsXG4gICAgc2NlbmU6IHNjZW5lTmFtZVxuICB9KTtcbn07IC8vYnVpbGQgc2NlbmUgYW5kIGxvYWQgdGhlIGFwcGxpY2F0aW9uXG5cblxudmFyIGxpbmVzID0gbmV3IExpbmVzKCk7XG5hcHAuZXZlbnRzLmxvYWRBcHAoKTtcblxud2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgYXBwLm5vZGVzLnJhbmRvbUJ0bigpO1xuICBhcHAuZXZlbnRMaXN0ZW5lcnMoKTtcbn07XG5cbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zaG93LXBvcHVwJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tYXNrJykuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG59KTtcblxuZnVuY3Rpb24gY2xvc2VNb2RhbCgpIHtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1hc2snKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbn1cblxuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNsb3NlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gIGNsb3NlTW9kYWwoKTtcbn0pO1xuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1hc2snKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgY2xvc2VNb2RhbCgpO1xufSk7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/index.js\n");

/***/ }),

/***/ "./src/index.scss":
/*!************************!*\
  !*** ./src/index.scss ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaW5kZXguc2Nzcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9pbmRleC5zY3NzP2RkOTEiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/index.scss\n");

/***/ })

/******/ });